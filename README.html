<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Farm RPG Prototype</title>
<style>
body{background:#1d1f27;color:white;font-family:Arial}
.container{width:1100px;margin:auto}
.panel{border:1px solid #555;padding:10px;margin:10px 0;background:#222}
h2{color:#00ffa6}
button{padding:7px 15px;margin:3px}
.grid{display:grid;grid-template-columns:repeat(5,120px);gap:10px}
.cell{width:120px;height:120px;border:1px solid #777;display:flex;
align-items:center;justify-content:center;background:#333;font-size:40px}
.done{background:#35a64a}
.empty{font-size:40px;color:#ff5555;}
</style>
</head>
<body>
<div class="container">

<h1>FARM â€“ RPG SYSTEM</h1>

<div class="panel">
<h2>ThÃ´ng tin nhÃ¢n váº­t</h2>
<p>TÃªn nhÃ¢n váº­t: <b>test001</b></p>
<p>
ğŸ’µ: <span id="xu">1000</span> |
Strength: <span id="str">1000</span> |
HP: <span id="hp">1000</span> |
G: <span id="goldf">1000</span> |
ğŸª™: <span id="bac">0</span> |
ğŸ“¯: <span id="vang">0</span> |
ÄÃ£ thu hoáº¡ch: <span id="harvest">0</span>
</p>
</div>

<div class="panel">
<h2>ğŸŒ± Trá»“ng trá»t</h2>
<p>Sá»‘ Ã´ Ä‘áº¥t: <span id="slots">3</span> / 20 
<button onclick="unlockLand()">Má»Ÿ thÃªm Ã´ Ä‘áº¥t</button></p>

<div class="grid" id="land"></div>

<select id="seed">
<option value="rose">Hoa Há»“ng (200 ğŸ’µ / 1h / bÃ¡n 500)</option>
<option value="cai">BÃ´ng Cáº£i (500 ğŸ’µ / 2h / bÃ¡n 1000)</option>
<option value="sam">NhÃ¢n SÃ¢m (1000 ğŸ’µ / 24h / bÃ¡n 15000)</option>
</select>
<button onclick="plant()">Trá»“ng</button>
<button onclick="harvest()">Thu hoáº¡ch</button>
</div>

<div class="panel">
<h2>ğŸ‹ï¸ Luyá»‡n sá»©c</h2>
<button onclick="train()">Táº­p gym (10s / +0.02 STR / -25HP)</button>
</div>

<div class="panel">
<h2>ğŸ Há»‡ thá»‘ng Ä‘áº·c biá»‡t</h2>

<p><b>Nháº­p code nháº­n G (má»—i code chá»‰ dÃ¹ng 1 láº§n)</b></p>
<input id="giftcode" placeholder="Nháº­p code...">
<button onclick="useCode()">Nháº­n</button>

<p><b>BÃ¡n váº­t pháº©m</b></p>
<button onclick="sellItem()">BÃ¡n â†’ +1000 ğŸ’µ</button>

<h3>ğŸŠ Má»Ÿ Bao LÃ¬ XÃ¬</h3>
<button onclick="openChest('normal')">ThÆ°á»ng (500 ğŸ’µ)</button>
<button onclick="openChest('vip')">VIP (1000 ğŸ’µ)</button>
<button onclick="openChest('supervip')">SIÃŠU VIP (100000 ğŸ’µ)</button>

<p id="chestResult"></p>
</div>

<div class="panel">
<h2>ğŸ² SÄƒn boss</h2>
<select id="bossSel">
<option value="1">Quan VÅ©</option>
<option value="2">Lá»¯ Bá»‘</option>
<option value="3">TÃ  Tháº§n</option>
<option value="4">ÄÃ´ng TÃ </option>
<option value="5">BOSS</option>
</select>
<button onclick="fightBoss()">ÄÃ¡nh Boss</button>
<p id="fightLog"></p>
</div>

<div class="panel">
<h2>ğŸ¯ Nhiá»‡m vá»¥</h2>
<p id="mission"></p>
</div>

<div class="panel">
<h2>ğŸ† Báº£ng Xáº¿p Háº¡ng â€“ Top 1 (Auto)</h2>
<p><b>TÃ¡ Ä‘iá»n:</b> <span id="rankLandName">test001</span> â€“ <span id="rankLandVal">3</span></p>
<p><b>Cá»• Ä‘Ã´ng G:</b> <span id="rankGoldFName">test001</span> â€“ <span id="rankGoldFVal">1000</span></p>
<p><b>Äáº¡i cao thá»§:</b> <span id="rankStrengthName">test001</span> â€“ <span id="rankStrengthVal">1000</span></p>
<p><b>Láº¯m ğŸ’µ:</b> <span id="rankMoneyName">test001</span> â€“ <span id="rankMoneyVal">1000</span></p>
<p><b>NhÃ  nÃ´ng:</b> <span id="rankFarmerName">test001</span> â€“ <span id="rankFarmerVal">0</span></p>
</div>

</div>

<script>
let playerName="test001";

let xu=1000,str=1000,hp=1000,harvested=0;
let landSlots=3;
let lands=[];
let goldF=1000, bac=0, vang=0;

let availableCodes = new Set(["test01","test02","test03","adtest01","adtest02","adtest03"]);

const seeds={
rose:{cost:200,time:3600,sell:500,icon:"ğŸŒº"},
cai:{cost:500,time:7200,sell:1000,icon:"ğŸª»"},
sam:{cost:1000,time:86400,sell:15000,icon:"ğŸª¸"}
};

function render(){
document.getElementById("xu").innerText=xu;
document.getElementById("str").innerText=str.toFixed(2);
document.getElementById("hp").innerText=hp;
document.getElementById("slots").innerText=landSlots;
document.getElementById("harvest").innerText=harvested;
document.getElementById("goldf").innerText=goldF;
document.getElementById("bac").innerText=bac;
document.getElementById("vang").innerText=vang;

let box="";
for(let i=0;i<landSlots;i++){
if(!lands[i]) box+=`<div class="cell empty">âŒ</div>`;
else{
let icon=lands[i].icon;
if(lands[i].done) box+=`<div class="cell done">${icon}</div>`;
else box+=`<div class="cell">${icon}</div>`;
}
}
document.getElementById("land").innerHTML=box;

checkMission();
updateRanking();
}
render();

function updateRanking(){
document.getElementById("rankLandName").innerText=playerName;
document.getElementById("rankLandVal").innerText=landSlots;

document.getElementById("rankGoldFName").innerText=playerName;
document.getElementById("rankGoldFVal").innerText=goldF;

document.getElementById("rankStrengthName").innerText=playerName;
document.getElementById("rankStrengthVal").innerText=str.toFixed(2);

document.getElementById("rankMoneyName").innerText=playerName;
document.getElementById("rankMoneyVal").innerText=xu;

document.getElementById("rankFarmerName").innerText=playerName;
document.getElementById("rankFarmerVal").innerText=harvested;
}

function unlockLand(){
if(landSlots>=20)return alert("ÄÃ£ max");
let price;
if(landSlots===3) price=10000;
else price=60000+(landSlots-5)*50000;
if(xu<price)return alert("KhÃ´ng Ä‘á»§ ğŸ’µ");
xu-=price;
landSlots++;
render();
}

function plant(){
let s=document.getElementById("seed").value;
if(xu<seeds[s].cost) return alert("KhÃ´ng Ä‘á»§ ğŸ’µ");
let idx=lands.findIndex(x=>!x);
if(idx===-1 && lands.length<landSlots) idx=lands.length;
if(idx===-1)return alert("Háº¿t Ä‘áº¥t");
xu-=seeds[s].cost;
lands[idx]={t:Date.now()+seeds[s].time*1000,sell:seeds[s].sell,done:false,icon:seeds[s].icon};
grow(idx);
render();
}

function grow(i){
let timer=setInterval(()=>{
if(!lands[i])return clearInterval(timer);
if(Date.now()>=lands[i].t){
lands[i].done=true;
clearInterval(timer);
render();
}
},1000);
}

function harvest(){
lands.forEach((p,i)=>{
if(p && p.done){
xu+=p.sell;
harvested++;
lands[i]=null;
}
});
render();
}

function train(){
if(hp<25)return alert("KhÃ´ng Ä‘á»§ HP");
hp-=25;
setTimeout(()=>{
str+=0.02;
render();
},10000);
}

function fightBoss(){
let id=document.getElementById("bossSel").value;
let bossList={
1:{hp:1000,atk:500,reward:1000},
2:{hp:2000,atk:1000,reward:5000},
3:{hp:5000,atk:5000,reward:10000},
4:{hp:10000,atk:10000,reward:20000},
5:{hp:100000,atk:100000,reward:500000}
};
let b={...bossList[id]};
let log="";
while(b.hp>50 && hp>50){
if(str>b.atk) b.hp-= (str-b.atk);
else hp-= (b.atk-str);
if(hp<=0) break;
}
if(b.hp<=50){
xu+=b.reward;
log="Tháº¯ng! Nháº­n "+b.reward+" ğŸ’µ";
}else log="Thua cuá»™c!";
document.getElementById("fightLog").innerText=log;
render();
}

function checkMission(){
let t="";
if(harvested>=1000)t+="ğŸ… NhÃ  nÃ´ng chÄƒm chá»‰<br>";
if(str>=10000)t+="ğŸ… CÃ¢n táº¥t<br>";
if(xu>=1000000000)t+="ğŸ… BÃ¡ há»™ lÃ ng<br>";
document.getElementById("mission").innerHTML=t||"ChÆ°a hoÃ n thÃ nh nhiá»‡m vá»¥ nÃ o";
}

function useCode(){
let c=document.getElementById("giftcode").value;
if(!c)return alert("Vui lÃ²ng nháº­p code!");
if(!availableCodes.has(c)){
alert("Code khÃ´ng há»£p lá»‡ hoáº·c Ä‘Ã£ dÃ¹ng!");
return;
}
availableCodes.delete(c);
goldF++;
alert("Nháº­n 1 G thÃ nh cÃ´ng!");
document.getElementById("giftcode").value="";
render();
}

function sellItem(){
xu+=1000;
alert("ÄÃ£ bÃ¡n váº­t pháº©m +1000 ğŸ’µ");
render();
}

function openChest(type){
let r=Math.random()*100;

if(type==="normal"){
if(xu<500)return alert("KhÃ´ng Ä‘á»§ ğŸ’µ!");
if(!confirm("Má»Ÿ Bao LÃ¬ XÃ¬ THÆ¯á»œNG máº¥t 500 ğŸ’µ, cháº¯c cháº¯n khÃ´ng?")) return;
xu-=500;
if(r<=50){xu+=1000;document.getElementById("chestResult").innerText="ğŸ‰ ThÆ°á»ng trÃºng 1000 ğŸ’µ";}
else{xu+=1;document.getElementById("chestResult").innerText="ğŸ˜¢ chá»‰ Ä‘Æ°á»£c 1 ğŸ’µ";}
}

else if(type==="vip"){
if(xu<1000)return alert("KhÃ´ng Ä‘á»§ ğŸ’µ!");
if(!confirm("Má»Ÿ Bao LÃ¬ XÃ¬ VIP máº¥t 1000 ğŸ’µ, cháº¯c khÃ´ng?")) return;
xu-=1000;
if(r<=10){xu+=50000;document.getElementById("chestResult").innerText="ğŸ”¥ VIP trÃºng 50,000 ğŸ’µ";}
else{xu+=1;document.getElementById("chestResult").innerText="ğŸ˜¢ chá»‰ Ä‘Æ°á»£c 1 ğŸ’µ";}
}

else if(type==="supervip"){
if(xu<100000)return alert("KhÃ´ng Ä‘á»§ ğŸ’µ!");
if(!confirm("Má»Ÿ Bao LÃ¬ XÃ¬ SIÃŠU VIP máº¥t 100000 ğŸ’µ, cháº¯c cháº¯n?")) return;
xu-=100000;
if(r<=45){xu+=1000000;document.getElementById("chestResult").innerText="ğŸš€ SIÃŠU VIP trÃºng 1,000,000 ğŸ’µ";}
else{xu+=1;document.getElementById("chestResult").innerText="ğŸ˜¢ chá»‰ Ä‘Æ°á»£c 1 ğŸ’µ";}
}

render();
}
</script>
</body>
</html>
